{"version":3,"sources":["components/scroll-to-top/scroll-to-top.jsx","components/intro-section/intro-section.jsx","assets/img/spritesheet.svg","const.js","components/listing-card/listing-card.jsx","utils.js","components/listing-list/listing-list.jsx","components/listing-section/listing-section.jsx","components/listing-filter-section/listing-filter-section.jsx","components/main/main.jsx","components/404-page-not-found/404-page-not-found.jsx","api/fetch-property-data/fetch-property-data.jsx","components/app/app.jsx","index.js"],"names":["ScrollToTop","pathname","useLocation","useEffect","window","scrollTo","IntroSection","title","className","LISTING_TYPE","humanized","color","ListingCard","number","str","data","id","address","type","price","href","to","aria-label","media","srcSet","width","height","src","alt","undefined","style","backgroundColor","replace","txt","charAt","toUpperCase","substr","toString","ListingList","fetchedPropertyData","propertyData","cardLimit","isInitialMount","useRef","current","nothingToShow","length","slice","map","item","ListingSection","onSeeMoreClick","propertyDataState","propertyDataIsLoading","propertyDataIsError","onClick","evt","preventDefault","xlinkHref","spritesheet","ListingFilterSection","onInputChange","onSubmit","htmlFor","onChange","target","value","name","placeholder","required","Main","NotFound","initialPropertyDataState","PROPERTY_DATA_FETCH_ACTIONS","propertyDataFetchReducer","state","action","payload","Error","FetchPropertyDataApi","useReducer","dispatch","didCancel","controller","AbortController","fetchOptions","method","signal","setTimeout","abort","a","fetch","then","response","json","catch","err","console","log","fetchPropertyData","App","useState","setCardLimit","query","setQuery","filteredPropertyData","setFilteredPropertyData","filteredData","filter","arrayItem","toLowerCase","includes","filterByTitle","handleFormInputChange","handleSeeMoreClick","basename","path","exact","render","rootElement","document","getElementById","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.14e8eb8f.chunk.js","sourcesContent":["import { useEffect } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nexport default function ScrollToTop() {\r\n  const { pathname } = useLocation();\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, [pathname]);\r\n\r\n  return null;\r\n}","import React from 'react';\r\n\r\nimport './intro-section.scss';\r\n\r\nconst IntroSection = ({title}) => {\r\n    return (\r\n        <section className=\"intro\">\r\n            <div className=\"intro__wrapper content-wrapper\">\r\n                <h2 className=\"intro__heading\">{title}</h2>   \r\n            </div>                \r\n        </section>\r\n    );\r\n};\r\n\r\nexport default IntroSection;","export default __webpack_public_path__ + \"static/media/spritesheet.71370694.svg\";","const LISTING_TYPE = {\r\n    \"IndependentLiving\": {\r\n        humanized: \"Independent living\",\r\n        color: \"#006F79\"\r\n    },\r\n    \"SupportAvailable\": {\r\n        humanized: \"Restaurant & Support available\",\r\n        color: \"#EC6608\"\r\n    }\r\n};\r\n\r\nconst INITIAL_CARD_LIMIT = 6;\r\n\r\nconst PROPERTY_DATA_REQUEST_URL = `https://603e38c548171b0017b2ecf7.mockapi.io/homes`;\r\n\r\nexport {\r\n    LISTING_TYPE,\r\n    INITIAL_CARD_LIMIT,\r\n    PROPERTY_DATA_REQUEST_URL,\r\n};","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { numberWithCommas, capitalizeFirstLetterOfEachWord } from '../../utils';\r\nimport { LISTING_TYPE } from '../../const';\r\n\r\nimport './listing-card.scss';\r\n\r\nconst ListingCard = ({data}) => {\r\n    const {id, title, address, type, price} = data;\r\n\r\n    const href=`/details/${id}`;\r\n\r\n    return (\r\n        <li className=\"listing-card\">\r\n            <article className=\"listing-card__wrapper\">\r\n                <Link to={href} className=\"listing-card__photo-wrapper-link\" aria-label={`Go to ` + title + ` listing page`}>\r\n                    <picture>\r\n                        <source media=\"(min-width: 779px)\" srcSet=\"https://via.placeholder.com/379x227/FF9999/FFFFFF?text=379x227%20placeholder\" />\r\n                        <img className=\"listing-card__photo\" width=\"360\" height=\"227\" src=\"https://via.placeholder.com/360x227/FF9999/FFFFFF?text=360x227%20placeholder\" alt={title + ` - Photo`} />\r\n                    </picture>\r\n                    {type !== undefined || type !== null ? <div className=\"listing-card__tag-wrapper\" style={{backgroundColor: LISTING_TYPE[type].color}}>\r\n                        <p className=\"listing-card__tag\">{LISTING_TYPE[type].humanized}</p>\r\n                    </div> : ''}\r\n                </Link>\r\n                <div className=\"listing-card__info-wrapper\">\r\n                    <Link to={href} className=\"listing-card__link\" aria-label={`Go to ` + title + ` page`}>\r\n                        <h2 className=\"listing-card__title\">{capitalizeFirstLetterOfEachWord(title)}</h2> \r\n                    </Link>\r\n                    <p className=\"listing-card__address\">{address}</p>\r\n                    <p className=\"listing-card__price\">New Properties for Sale from <b>Â£{numberWithCommas(price)}</b></p>\r\n                    <p className=\"listing-card__ownership-options\">Shared Ownership Available</p>\r\n                </div>\r\n            </article>\r\n        </li>\r\n    );\r\n};\r\n\r\n\r\nexport default ListingCard;","const numberWithCommas = (number) => {\r\n    return number.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n};\r\n\r\nconst filterByTitle = (arrayItem, query) => {\r\n    return (arrayItem.title.toLowerCase().includes(query.toLowerCase()));\r\n};\r\n\r\nconst capitalizeFirstLetterOfEachWord = (str) => {  \r\n    return str.replace(/\\w\\S*/g, (txt) => (txt.charAt(0).toUpperCase() + txt.substr(1)));  \r\n};\r\n\r\n\r\nexport {\r\n    numberWithCommas,\r\n    filterByTitle,\r\n    capitalizeFirstLetterOfEachWord,\r\n};","import React, {useEffect, useRef} from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './listing-list.scss';\r\n\r\nimport ListingCard from '../listing-card/listing-card';\r\n\r\nconst ListingList = ({fetchedPropertyData, propertyData, cardLimit}) => {\r\n    const isInitialMount = useRef(true);\r\n\r\n    useEffect(() => {\r\n        if (isInitialMount.current) {\r\n            isInitialMount.current = false;\r\n        }\r\n    }, []);\r\n\r\n    const nothingToShow = () => {\r\n        return (\r\n            <ul className=\"listing-list\">\r\n                <h3 className=\"listing-list__error-message\">Sorry, nothing was found!</h3>\r\n            </ul>\r\n        );\r\n    };\r\n\r\n    if (fetchedPropertyData.length > 0 || isInitialMount.current) {\r\n        if (propertyData.length > 0) {\r\n            return (\r\n                <ul className=\"listing-list\">\r\n                    {propertyData.slice(0, cardLimit).map((item) => (<ListingCard key={item.id} data={item} />))}\r\n                </ul>\r\n            );\r\n        } else {\r\n            if (isInitialMount.current) {\r\n                return (``);\r\n            } else (\r\n                nothingToShow()\r\n            )\r\n        }\r\n    }\r\n\r\n    return (\r\n        nothingToShow()\r\n    );\r\n};\r\n\r\nListingList.propTypes = {\r\n    fetchedPropertyData: PropTypes.array.isRequired,\r\n    propertyData: PropTypes.array.isRequired,\r\n    cardLimit: PropTypes.number.isRequired\r\n};\r\n\r\n\r\nexport default ListingList;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './listing-section.scss';\r\n\r\nimport spritesheet from '../../assets/img/spritesheet.svg';\r\n\r\nimport ListingList from '../listing-list/listing-list';\r\n\r\nconst ListingSection = ({propertyData, cardLimit, onSeeMoreClick, propertyDataState}) => {\r\n\r\n    const handleClick = (evt) => {\r\n        evt.preventDefault();\r\n        onSeeMoreClick();\r\n    };\r\n\r\n    const {fetchedPropertyData, propertyDataIsLoading, propertyDataIsError} = propertyDataState;\r\n\r\n    if (propertyDataIsLoading) {\r\n        return (\r\n            <section className=\"listing\">\r\n                <div className=\"listing__wrapper content-wrapper\">\r\n                    <h2 className=\"visually-hidden\">Property Data is Being Loaded</h2>\r\n                    <div className=\"loading-spinner\"></div>\r\n                </div>\r\n            </section>\r\n        );\r\n    } else if (propertyDataIsError) {\r\n        return (\r\n            <section className=\"listing\">\r\n                <div className=\"listing__wrapper content-wrapper\">\r\n                    <h2 className=\"listing__error-message\">Failed to Load Property Data</h2>\r\n                </div>\r\n            </section>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <section className=\"listing\">\r\n            <div className=\"listing__wrapper content-wrapper\">\r\n                <h2 className=\"visually-hidden\">Recently Developed Property Listing</h2>\r\n\r\n                <ListingList fetchedPropertyData={fetchedPropertyData} propertyData={propertyData} cardLimit={cardLimit} />\r\n\r\n                {cardLimit < propertyData.length \r\n                    ?\r\n                    <Link className=\"listing__see-more-button\" onClick={handleClick} to=\"#\">\r\n                        See more\r\n                        <svg width=\"7\" height=\"17\">\r\n                            <use xlinkHref={spritesheet + `#icon-arrow-right`} />\r\n                        </svg>\r\n                    </Link>\r\n                    :\r\n                    ''\r\n                }\r\n            </div>\r\n        </section>\r\n    );\r\n};\r\n\r\nListingSection.propTypes = {\r\n    propertyData: PropTypes.array.isRequired,\r\n    cardLimit: PropTypes.number.isRequired\r\n};\r\n\r\nexport default ListingSection;","import React from 'react';\r\n\r\nimport './listing-filter-section.scss';\r\n\r\nconst ListingFilterSection = ({onInputChange}) => {\r\n\r\n    const handleInputChange = (evt) => {\r\n        evt.preventDefault();\r\n        onInputChange(evt.target.value);\r\n    };\r\n\r\n    const handleFormSubmit = (evt) => {\r\n        evt.preventDefault();\r\n    };\r\n\r\n    return (\r\n        <section className=\"listing-filter\">\r\n            <div className=\"listing-filter__wrapper content-wrapper\">\r\n                <form className=\"listing-filter__form\" onSubmit={handleFormSubmit}>\r\n                    <label className=\"listing-filter__label\" htmlFor=\"title\">Filter</label>\r\n                    <input onChange={handleInputChange} className=\"listing-filter__input\" id=\"title\" name=\"title\" type=\"text\" placeholder=\"By Property Title\" required/>\r\n                </form>\r\n            </div>\r\n        </section>\r\n    );\r\n};\r\n\r\nexport default ListingFilterSection;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport IntroSection from '../intro-section/intro-section';\r\nimport ListingSection from '../listing-section/listing-section';\r\nimport ListingFilterSection from '../listing-filter-section/listing-filter-section';\r\n\r\nconst Main = ({propertyData, onInputChange, cardLimit, onSeeMoreClick, propertyDataState}) => {\r\n    const mainHeading = `Our Latest Developments`;\r\n\r\n    return (\r\n        <>\r\n            <main className=\"page-main\">\r\n                <h1 className=\"visually-hidden\">Property Listing - Main Page</h1>\r\n\r\n                <IntroSection title={mainHeading} />\r\n\r\n                <ListingFilterSection onInputChange={onInputChange} />  \r\n                <ListingSection propertyDataState={propertyDataState} propertyData={propertyData} cardLimit={cardLimit} onSeeMoreClick={onSeeMoreClick} />\r\n            </main>\r\n        </>\r\n    );\r\n};\r\n\r\nMain.propTypes = {\r\n    propertyDataState: PropTypes.object.isRequired,\r\n    propertyData: PropTypes.array.isRequired,\r\n    cardLimit: PropTypes.number.isRequired\r\n};\r\n\r\nexport default Main;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport './404-page-not-found.scss';\r\n\r\nconst NotFound = () => {\r\n    const mainHeading = `404. Page Not Found`;\r\n    return (\r\n        <>\r\n            <main className=\"page-main page-main--not-found\">\r\n                <section className=\"not-found\">\r\n                    <div className=\"not-found__wrapper content-wrapper\">\r\n                        <h2 className=\"not-found__heading\">{mainHeading}</h2>\r\n                        <Link to=\"/\" className=\"not-found__link button-basic\">Back to Main Page</Link>   \r\n                    </div>                \r\n                </section>\r\n            </main>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default NotFound;","import {useEffect, useReducer} from 'react';\r\n\r\nimport { PROPERTY_DATA_REQUEST_URL } from '../../const';\r\n\r\nconst initialPropertyData = [];\r\n\r\nconst initialPropertyDataState = {\r\n    fetchedPropertyData: initialPropertyData,\r\n    propertyDataIsLoading: false,\r\n    propertyDataIsError: false\r\n};\r\n\r\nconst PROPERTY_DATA_FETCH_ACTIONS = {\r\n    FETCH_INIT: `FETCH_INIT`,\r\n    FETCH_SUCCESS: `FETCH_SUCCESS`,\r\n    FETCH_FAILURE: `FETCH_FAILURE`\r\n}\r\n\r\nconst propertyDataFetchReducer = (state, action) => {\r\n    switch (action.type) {\r\n        case PROPERTY_DATA_FETCH_ACTIONS.FETCH_INIT:\r\n            return {\r\n                ...state,\r\n                propertyDataIsLoading: true,\r\n                propertyDataIsError: false\r\n            };\r\n        case PROPERTY_DATA_FETCH_ACTIONS.FETCH_SUCCESS:\r\n            return {\r\n                ...state,\r\n                fetchedPropertyData: action.payload,\r\n                propertyDataIsLoading: false,\r\n                propertyDataIsError: false\r\n            };\r\n        case PROPERTY_DATA_FETCH_ACTIONS.FETCH_FAILURE:\r\n            return {\r\n                ...state,\r\n                propertyDataIsLoading: false,\r\n                propertyDataIsError: true\r\n            };\r\n        default:\r\n            throw new Error();\r\n    }\r\n};\r\n\r\nconst FetchPropertyDataApi = () => {\r\n    const [propertyDataState, dispatch] = useReducer(propertyDataFetchReducer, initialPropertyDataState);\r\n    // const [fetchedPropertyData, setFetchedPropertyData] = useState([]);\r\n\r\n    useEffect(() => {\r\n        let didCancel = false;\r\n\r\n        const controller = new AbortController();\r\n\r\n        const requestUrl = PROPERTY_DATA_REQUEST_URL;\r\n        const fetchOptions = {method: `GET`, signal: controller.signal };\r\n    \r\n        setTimeout(() => controller.abort(), 4000);\r\n\r\n        const fetchPropertyData = async () => {\r\n            dispatch({ type: PROPERTY_DATA_FETCH_ACTIONS.FETCH_INIT });\r\n\r\n            fetch(requestUrl, fetchOptions)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    if (!didCancel) {\r\n                        dispatch({ type: PROPERTY_DATA_FETCH_ACTIONS.FETCH_SUCCESS, payload: data });\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    if (!didCancel) {\r\n                        console.log(err);\r\n                        dispatch({ type: PROPERTY_DATA_FETCH_ACTIONS.FETCH_FAILURE });\r\n                    }\r\n                });\r\n        };\r\n\r\n        fetchPropertyData();\r\n\r\n        return () => {\r\n            didCancel = true;\r\n        };\r\n    }, []);\r\n\r\n    return [propertyDataState];\r\n};\r\n\r\nexport default FetchPropertyDataApi;","import React, { useEffect, useState } from 'react';\r\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\r\n\r\nimport ScrollToTop from '../scroll-to-top/scroll-to-top';\r\nimport Main from '../main/main';\r\nimport NotFound from '../404-page-not-found/404-page-not-found';\r\n\r\nimport { filterByTitle } from '../../utils';\r\nimport { INITIAL_CARD_LIMIT } from '../../const';\r\n\r\nimport FetchPropertyDataApi from '../../api/fetch-property-data/fetch-property-data';\r\n\r\nconst App = () => {\r\n    const [cardLimit, setCardLimit] = useState(INITIAL_CARD_LIMIT);\r\n\r\n    const [query, setQuery] = useState('');\r\n\r\n    const [propertyDataState] = FetchPropertyDataApi();\r\n\r\n    const {fetchedPropertyData} = propertyDataState;\r\n\r\n    const [filteredPropertyData, setFilteredPropertyData] = useState(fetchedPropertyData);\r\n\r\n    useEffect(() => {\r\n        if (query.length > 3) {\r\n            let filteredData = fetchedPropertyData.filter(item => filterByTitle(item, query));\r\n            setFilteredPropertyData(filteredData);\r\n        } else {\r\n            setFilteredPropertyData(fetchedPropertyData);\r\n            setCardLimit(INITIAL_CARD_LIMIT);\r\n        }\r\n    }, [query, fetchedPropertyData]);\r\n\r\n    const handleFormInputChange = value => {\r\n        setQuery(value);\r\n    };\r\n\r\n    const handleSeeMoreClick = () => {\r\n        setCardLimit(filteredPropertyData.length);\r\n    };\r\n\r\n    return (\r\n        <BrowserRouter basename=\"/property-listing\">\r\n            <Switch>\r\n                <Route path=\"/\" exact render={() => (\r\n                    <>\r\n                        <ScrollToTop />\r\n                        <Main onInputChange={handleFormInputChange} propertyDataState={propertyDataState} propertyData={filteredPropertyData} cardLimit={cardLimit} onSeeMoreClick={handleSeeMoreClick} />\r\n                    </>\r\n                )} />\r\n\r\n                <Route render={() => (\r\n                    <>\r\n                        <ScrollToTop />\r\n                        <NotFound />\r\n                    </>\r\n                )} />\r\n\r\n            </Switch>\r\n        </BrowserRouter>\r\n    );\r\n};\r\n\r\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport './variables.scss'\nimport App from './components/app/app';\n\nconst rootElement = document.getElementById('root');\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  rootElement\n);"],"sourceRoot":""}